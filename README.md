# Changi Airport Weather Report System

A full-stack application for monitoring and analyzing weather data at Changi Airport, Singapore.

## Features

- Real-time weather data collection from OpenWeather API
- Time-series storage of weather metrics (temperature, pressure, humidity, cloud cover)
- Weather report generation for specific time periods
- Historical reports viewing and comparison
- Deviation analysis between different time periods

## Project Structure

- **Backend**: Node.js with GraphQL API, MongoDB time-series collections
- **Frontend**: (To be implemented) React.js with modern UI components

## Technical Stack

- **Backend**:
  - Node.js with Express
  - GraphQL with Apollo Server
  - MongoDB with Prisma ORM
  - Background jobs for data collection
- **Frontend**:
  - React.js (to be implemented)
  - Apollo Client (to be implemented)
  - Tailwind CSS (recommended)

## Setup Instructions

### Prerequisites

- Node.js (v14+)
- MongoDB (v5+ with time series collections support)
- OpenWeather API key

### Environment Variables

Create a `.env` file in the backend directory with the following variables:

```
PORT=4000
DATABASE_URL=mongodb://localhost:27017/weather_report
SECRET_KEY_BASE=your_secret_key
OPEN_WEATHER_API_KEY=your_openweather_api_key
```

### Backend Setup

1. Install dependencies:

   ```
   cd backend
   npm install
   ```

2. Generate Prisma client:

   ```
   npx prisma generate
   ```

3. Start the development server:

   ```
   npm run dev
   ```

4. The GraphQL server will be available at http://localhost:4000/graphql

### Data Collection

The system automatically collects weather data every 5 minutes using a background job.

### API Endpoints

All API interactions are through GraphQL. Key operations:

- Query current weather
- Generate weather reports for specific time periods
- View historical reports
- Compare two reports and calculate deviations

## Implementation Notes

- The system uses MongoDB time-series collections for efficient storage and querying of temporal data
- Weather data is automatically collected in the background at regular intervals
- Reports are generated by aggregating data points over specific time periods

## Development Roadmap

1. Complete backend implementation with all GraphQL resolvers
2. Build frontend with React.js
3. Add authentication for user-specific reports
4. Implement caching for improved performance
5. Add data visualization for weather trends
